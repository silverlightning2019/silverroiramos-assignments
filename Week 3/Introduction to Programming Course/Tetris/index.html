<html>
<head>
	<title>Tetris</title>
	<style type="text/css">
		body{
			margin: 0px;
		}
		div.row div{
			width:  20px;
			height:  20px;
			display: inline-block;
		}
		div#world{
			
		}
		div#block{
			position: absolute;
  			left: 0px;
  			top: 0px;
		}
		div.black{
			background-color: black;
		}
		div.blue{
			background-color: blue;
		}
		#score{
			margin-top: 15px;
			width:  270px;
			border: 5px solid black;
			background-color: white;
			text-align:  center;
			padding: 10px;
			font-size: 20px;
			font-family: "Century Gothic";	
		}
	</style>
</head>
<body>
	<div id='container'>
		<div id='world'></div>
		<div id='block'></div>
	</div>
	<div id ="score">Score: 0</div>

	<script>
		var world = [
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]			
		];

		var shapes = [
		    [1,1,1,1]
    	];

    	var shapes1 = [
		    [2,0,0],
		    [2,2,2],
		    [0,0,0],
		];

		var shapes2 = [
		    [0,0,3],
		    [3,3,3],
		    [0,0,0],
		];

		var shapes3 = [
		    [4,4],
		    [4,4],
		];

		var shapes4 = [
		    [0,5,5],
		    [5,5,0],
		    [0,0,0],
		];

		var shapes5 = [
		    [0,6,0],
		    [6,6,6],
		    [0,0,0],
		];

		var shapes6 = [
		    [7,7,0],
		    [0,7,7],
		    [0,0,0],
		];

		var block= {
			x: 1,
			y: 1
		}

		function displayWorld(){
			var output = '';

			for (var i=0; i<world.length; i++){
				output += "\n<div class='row'>";
				for(var j=0; j<world[i].length; j++){
					output += "<div class='black'></div>";
				}
				output += "\n</div>";
			}
			document.getElementById('world').innerHTML = output;
		}

		
		function displayBlock(){
			var output = '';
			//var h = Math.floor(Math.random() * 7);
			//console.log(h);

			for (var i=0; i<shapes.length; i++){
				output += "\n<div class='row'>";
				for(var j=0; j<shapes[i].length; j++){
					if(shapes[i][j] == 0)
						output += "<div class='black'></div>";
					else if(shapes[i][j] == 1)
						output += "<div class='blue'></div>";
				}
				output += "\n</div>";
			}
			document.getElementById('block').innerHTML = output;
			document.getElementById('block').style.left = block.x*20+"px";
			document.getElementById('block').style.top = block.y*20+"px";
		}

		function moveBlocks(){
			if (world[block.y+1][block.x] == 0){
				block.y += 1;
			}
		}
		
		function gameloop(){
			displayWorld();
			displayBlock();
			moveBlocks();
		}

		setInterval(gameloop, 50);
		displayWorld();
		displayBlock();

	</script>
</body>
</html>